<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Films with English Subtitles - Stockholm Cinemas</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
/* Reset and base styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    color: #2d3748;
    background-color: #ffffff;
}

/* Header and Navigation */
.header {
    background: #ffffff;
    border-bottom: 1px solid #e2e8f0;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 4rem;
}

.logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a202c;
}

.logo i {
    color: #3182ce;
    font-size: 1.5rem;
}

.nav-links {
    display: flex;
    gap: 2rem;
}

.nav-links a {
    text-decoration: none;
    color: #4a5568;
    font-weight: 500;
    transition: color 0.2s ease;
}

.nav-links a:hover {
    color: #3182ce;
}

/* Hero Section */
.hero {
    background: 
        linear-gradient(135deg, rgba(102, 126, 234, 0.85) 0%, rgba(118, 75, 162, 0.85) 100%),
        url('https://images.unsplash.com/photo-1509356843151-3e7d96241e11?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') center/cover no-repeat;
    color: white;
    padding: 4rem 2rem;
    text-align: center;
    position: relative;
}

.hero-content {
    max-width: 1000px;
    margin: 0 auto;
}

.hero-title {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.2;
}

.hero-subtitle {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    opacity: 0.9;
    font-weight: 300;
}

.stats {
    display: flex;
    justify-content: center;
    gap: 3rem;
    margin-top: 2rem;
}

.stat {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.stat-number {
    font-size: 2rem;
    font-weight: 700;
    line-height: 1;
}

.stat-label {
    font-size: 0.875rem;
    opacity: 0.8;
    font-weight: 400;
}

/* Controls Section */
.controls {
    background: #f7fafc;
    padding: 1rem 2rem;
    border-bottom: 1px solid #e2e8f0;
}

.controls-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    gap: 0.75rem;
    justify-content: center;
    align-items: center;
}

/* Search Box */
.search-box {
    position: relative;
    width: 300px;
}

.search-box i {
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
    color: #718096;
    font-size: 0.875rem;
}

.search-box input {
    width: 100%;
    padding: 0.5rem 0.75rem 0.5rem 2rem;
    border: 1px solid #cbd5e0;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    background: white;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.search-box input:focus {
    outline: none;
    border-color: #3182ce;
    box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
}

.filter-select {
    padding: 0.5rem 0.75rem;
    border: 1px solid #cbd5e0;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    background: white;
    color: #4a5568;
    cursor: pointer;
    transition: border-color 0.2s, box-shadow 0.2s;
    min-width: 120px;
    max-width: 160px;
}

.filter-select:focus {
    outline: none;
    border-color: #3182ce;
    box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
}

.filter-select:hover {
    border-color: #a0aec0;
}

/* Responsive Design for Controls */
@media (max-width: 768px) {
    .controls {
        padding: 0.75rem 1rem;
    }
    
    .controls-container {
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .search-box {
        flex: 1 1 100%;
        max-width: none;
        margin-bottom: 0.25rem;
    }
    
    .filter-select {
        flex: 1;
        min-width: 100px;
        max-width: none;
    }
}

.filters-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-group label {
    font-weight: 500;
    color: #4a5568;
    font-size: 0.875rem;
}

.filter-group input,
.filter-group select {
    padding: 0.75rem;
    border: 1px solid #cbd5e0;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    background: white;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.filter-group input:focus,
.filter-group select:focus {
    outline: none;
    border-color: #3182ce;
    box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
}

/* Films Section */
.films {
    padding: 4rem 2rem;
    background: #ffffff;
}

.films-container {
    max-width: 1200px;
    margin: 0 auto;
}

.loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 4rem;
    color: #718096;
}

.loading i {
    font-size: 2rem;
}

/* No Results */
.no-results {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem;
    text-align: center;
    color: #718096;
    gap: 1rem;
}

.no-results i {
    font-size: 3rem;
    color: #ed8936;
    margin-bottom: 1rem;
}

.no-results h3 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 600;
    color: #2d3748;
}

.no-results p {
    margin: 0;
    font-size: 1rem;
}

.films-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
    margin-top: 2rem;
}

/* Film Card */
.film-card {
    background: white;
    border-radius: 1rem;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    border: 1px solid #e2e8f0;
    display: flex;
    flex-direction: column;
}

.film-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.film-poster {
    position: relative;
    height: 400px;
    background: linear-gradient(45deg, #f7fafc, #edf2f7);
    overflow: hidden;
}

.film-poster img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.film-poster .placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #a0aec0;
    font-size: 3rem;
}

.film-rating {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.film-rating .star {
    color: #f6e05e;
}

.film-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    flex: 1;
}

.film-title {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: #1a202c;
    line-height: 1.3;
}

.film-overview {
    color: #4a5568;
    font-size: 0.875rem;
    line-height: 1.5;
    margin-bottom: 1rem;
    flex: 1;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    max-height: 4.2rem;
}

.film-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.meta-item {
    background: #edf2f7;
    color: #4a5568;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
}

.meta-item.genre {
    background: #e6fffa;
    color: #234e52;
}

.meta-item.year {
    background: #fef5e7;
    color: #744210;
}

.meta-item.source {
    background: #f0f8ff;
    color: #1e3a8a;
}

.film-showtimes {
    margin-bottom: 1rem;
    border-top: 1px solid #e2e8f0;
    padding-top: 1rem;
}

.showtimes-title {
    font-size: 0.875rem;
    font-weight: 600;
    color: #2d3748;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.showtime {
    background: #f7fafc;
    border: 1px solid #e2e8f0;
    padding: 0.375rem 0.5rem;
    border-radius: 0.375rem;
    font-size: 0.8rem;
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
    min-width: 0; /* Allow content to shrink */
}

.showtime-time {
    font-weight: 600;
    color: #3182ce;
    font-size: 0.875rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.cinema-name {
    font-weight: 400;
    font-style: normal;
    font-size: 0.7rem;
    color: #6b7280;
    margin-left: 0.25rem;
    white-space: nowrap;
}



.film-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1rem;
    border-top: 1px solid #e2e8f0;
    margin-top: auto;
}

.film-link {
    color: #3182ce;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.875rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: color 0.2s ease;
}

.film-link:hover {
    color: #2c5aa0;
}

.film-runtime {
    color: #718096;
    font-size: 0.75rem;
}

/* No Results */
.no-results {
    text-align: center;
    padding: 4rem;
    color: #718096;
}

.no-results i {
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

.no-results h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

/* Footer */
.footer {
    background: #1a202c;
    color: white;
    padding: 3rem 2rem 1rem;
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.footer-section h3 {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 1rem;
}

.footer-section p {
    color: #a0aec0;
    line-height: 1.6;
}

.social-links {
    display: flex;
    gap: 1rem;
}

.social-links a {
    color: #a0aec0;
    font-size: 1.25rem;
    transition: color 0.2s ease;
}

.social-links a:hover {
    color: white;
}

.footer-bottom {
    max-width: 1200px;
    margin: 0 auto;
    padding-top: 2rem;
    border-top: 1px solid #2d3748;
    text-align: center;
    color: #a0aec0;
    font-size: 0.875rem;
}

/* Responsive Design */
@media (max-width: 768px) {
    .nav-container {
        padding: 0 1rem;
    }
    
    .nav-links {
        gap: 1rem;
    }
    
    .hero {
        padding: 3rem 1rem;
    }
    
    .hero-title {
        font-size: 2rem;
    }
    
    .stats {
        gap: 1.5rem;
    }
    
    .controls {
        padding: 1.5rem;
    }
    
    .filters-container {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .films {
        padding: 2rem 1rem;
    }
    
    .films-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }
    
    .footer {
        padding: 2rem 1rem 1rem;
    }
    
    .footer-content {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
}

@media (max-width: 480px) {
    .nav-links {
        display: none;
    }
    
    .hero-title {
        font-size: 1.75rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
    
    .stats {
        flex-direction: column;
        gap: 1rem;
    }
    
    .films-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .film-card {
        margin: 0 -1rem;
        border-radius: 0;
        border-left: none;
        border-right: none;
    }
    
    /* Mobile adjustments for calendar button and showtimes */
    .showtime-container {
        gap: 0.375rem;
    }
    
    .calendar-button {
        width: 2rem;
        height: 2rem;
        font-size: 0.7rem;
    }
    
    .calendar-button i {
        font-size: 0.7rem;
    }
    
    .showtime {
        padding: 0.25rem 0.375rem;
    }
    
    .showtime-time {
        font-size: 0.8rem;
    }
    
    .cinema-name {
        font-size: 0.65rem;
    }
}

/* Animation for film cards appearing */
.film-card {
    opacity: 0;
    animation: fadeInUp 0.6s ease forwards;
}

.film-card:nth-child(1) { animation-delay: 0.1s; }
.film-card:nth-child(2) { animation-delay: 0.2s; }
.film-card:nth-child(3) { animation-delay: 0.3s; }
.film-card:nth-child(4) { animation-delay: 0.4s; }
.film-card:nth-child(5) { animation-delay: 0.5s; }
.film-card:nth-child(6) { animation-delay: 0.6s; }

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Multi-Cinema Support Styles */
.meta-item.source.multi-cinema {
    background: #fef3cd;
    color: #92400e;
    border: 1px solid #fbbf24;
    position: relative;
}

.meta-item.source.multi-cinema::before {
    content: "üé≠ ";
    font-size: 0.75rem;
}

.showtime.multi-cinema {
    background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
    border-left: 3px solid #3182ce;
}



.more-showtimes {
    text-align: center;
    color: #718096;
    font-size: 0.8rem;
    font-style: italic;
    padding: 0.5rem;
    background: #f7fafc;
    border-radius: 0.25rem;
    margin-top: 0.5rem;
}

.multi-cinema-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
}

.film-link.multi-link {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    padding: 0.5rem;
    border-radius: 0.25rem;
    justify-content: space-between;
    transition: all 0.2s ease;
}

.film-link.multi-link:hover {
    background: #edf2f7;
    border-color: #3182ce;
    transform: translateY(-1px);
}

/* Highlight multi-cinema films */
.film-card:has(.multi-cinema) {
    box-shadow: 0 0 0 2px #fbbf24, 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

.film-card:has(.meta-item.multi-cinema)::before {
    content: "üé≠ Multiple Cinemas";
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: #fbbf24;
    color: #92400e;
    font-size: 0.7rem;
    font-weight: 600;
    padding: 0.25rem 0.5rem;
    border-radius: 1rem;
    z-index: 10;
}

/* Clickable Showtimes */
.showtime-container {
    display: flex;
    align-items: stretch;
    gap: 0.5rem;
    margin-bottom: 0.375rem;
}

.showtime-link {
    text-decoration: none;
    color: inherit;
    display: block;
    border-radius: 8px;
    transition: all 0.2s ease;
    flex: 1;
    min-width: 0; /* Allow flex item to shrink below its content size */
}

.showtime-link:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.showtime-link:hover .showtime {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-left-color: #0ea5e9;
}

.showtime {
    position: relative;
    cursor: pointer;
}

.showtime-arrow {
    position: absolute;
    right: 0.5rem;
    top: 50%;
    transform: translateY(-50%);
    color: #64748b;
    font-weight: bold;
    font-size: 0.8rem;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.showtime-link:hover .showtime-arrow {
    opacity: 1;
}

/* Calendar Button */
.calendar-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.275rem;
    height: 2.275rem;
    background: #3182ce;
    color: white;
    border-radius: 0.375rem;
    text-decoration: none;
    transition: all 0.2s ease;
    font-size: 0.75rem;
    flex-shrink: 0;
}

.calendar-button:hover {
    background: #2c5aa0;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
    color: white;
}

.calendar-button:active {
    transform: translateY(0);
}

.calendar-button i {
    font-size: 0.75rem;
}

/* Loading spinner animation */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.fa-spin {
    animation: spin 1s linear infinite;
}
</style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Discover Great Cinema</h1>
            <p>Find films with English subtitles at Stockholm's finest cinemas</p>
            
            <!-- Statistics -->
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number" id="total-films">-</span>
                    <span class="stat-label">Films Available</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="total-cinemas">-</span>
                    <span class="stat-label">Cinemas</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="total-showtimes">-</span>
                    <span class="stat-label">Showtimes</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Controls -->
    <section class="controls">
        <div class="controls-container">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="Search films...">
            </div>
            
            <select id="cinema-filter" class="filter-select">
                <option value="">All Cinemas</option>
            </select>
            
            <select id="genre-filter" class="filter-select">
                <option value="">All Genres</option>
            </select>
        </div>
    </section>

    <!-- Loading -->
    <div id="loading" class="loading">
        <i class="fas fa-film fa-spin"></i>
        <span>Loading films...</span>
    </div>

    <!-- No Results -->
    <div id="no-results" class="no-results" style="display: none;">
        <i class="fas fa-search"></i>
        <h3>No films found</h3>
        <p>Try adjusting your search criteria or filters.</p>
    </div>

    <!-- Films Grid -->
    <main class="main-content">
        <div class="films-container">
            <div class="films-grid" id="films-grid">
                <!-- Films will be loaded here -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 Films with English Subtitles. Data sourced from Stockholm cinemas.</p>
            <p>This is an unofficial tool to help find films with English subtitles in Stockholm.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script id="films-data" type="application/json">[{"film_id": "13979", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13979&cityId=1", "title": "Originaltitel: Sterne", "director": "", "showtimes": [{"datetime": "", "display_text": "tis 27/1 kl. 18:00", "normalized_datetime": "2025-01-27T18:00:00", "normalized_date": "27.01", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13979&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:25:26.829551", "tmdb": {"id": 199177, "title": "Stars", "overview": "Stationed in a secluded Bulgarian village in 1943, Walter ‚Äì a German Wehrmacht sergeant and artist ‚Äì lives in almost idyllic distance from the war. Then a transit camp is set up for Jews arriving from Greece. When Ruth, one of the internees, asks Walter to help a pregnant woman, the two form an unlikely bond.", "release_date": "1959-03-23", "rating": 7.5, "vote_count": 15, "genres": ["Drama", "War"], "poster_path": "/xCWu2icolAmBWES6TuW0Ib4nLkH.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/xCWu2icolAmBWES6TuW0Ib4nLkH.jpg", "backdrop_path": "/35Lkd1KQ1OJGG3WEWBJs6H46LYJ.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/35Lkd1KQ1OJGG3WEWBJs6H46LYJ.jpg", "imdb_id": "tt0053306", "runtime": 92, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13979&cityId=1"]}, {"film_id": "5632", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=5632&cityId=1", "title": "Originaltitel: Ukigusa", "director": "", "showtimes": [{"datetime": "", "display_text": "ons 28/1 kl. 18:00", "normalized_datetime": "2025-01-28T18:00:00", "normalized_date": "28.01", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=5632&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:25:30.879810", "tmdb": {"id": 46918, "title": "Floating Weeds", "overview": "When a theater troupe's master visits his old flame, he unintentionally sets off a chain of unexpected events with devastating consequences.", "release_date": "1959-11-17", "rating": 7.462, "vote_count": 198, "genres": ["Drama"], "poster_path": "/nLepKtb48XSnPQNsuS4svbtNBY7.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/nLepKtb48XSnPQNsuS4svbtNBY7.jpg", "backdrop_path": "/o7l1P351p4gh9dTlcQy1xB8NL8H.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/o7l1P351p4gh9dTlcQy1xB8NL8H.jpg", "imdb_id": "tt0053390", "runtime": 115, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=5632&cityId=1"]}, {"film_id": "3845", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3845&cityId=1", "title": "Originaltitel: Nran guyne", "director": "", "showtimes": [{"datetime": "", "display_text": "tor 29/1 kl. 18:00", "normalized_datetime": "2025-01-29T18:00:00", "normalized_date": "29.01", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3845&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:25:35.107067", "tmdb": {"id": 26302, "title": "The Color of Pomegranates", "overview": "The life of the revered 18th-century Armenian poet and musician Sayat-Nova. Portraying events in the life of the artist from childhood up to his death, the movie addresses in particular his relationships with women, including his muse. The production tells Sayat-Nova's dramatic story by using both his poems and largely still camerawork, creating a work hailed as revolutionary by Mikhail Vartanov.", "release_date": "1969-10-01", "rating": 7.326, "vote_count": 311, "genres": ["Drama", "History"], "poster_path": "/35Sj3VeGLj8r8sT1XbxbrgD7KfI.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/35Sj3VeGLj8r8sT1XbxbrgD7KfI.jpg", "backdrop_path": "/9eUKLg2HAxE86b0DmQMN5VAxU9B.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/9eUKLg2HAxE86b0DmQMN5VAxU9B.jpg", "imdb_id": "tt0063555", "runtime": 80, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3845&cityId=1"]}, {"film_id": "14004", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14004&cityId=1", "title": "Originaltitel: Andriesh", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 7/2 kl. 14:00", "normalized_datetime": "2025-02-07T14:00:00", "normalized_date": "07.02", "normalized_time": "14:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14004&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:26:05.545908", "tmdb": {"id": 729916, "title": "Andriesh", "overview": "A short diploma film based on a fairy tale by Yemelian Bukov and directed by Sergei Parajanov. The film was made in 1952, since that moment it was considered to be lost, but finally it was found in VGIK in 2025.", "release_date": "1952-01-01", "rating": 0.0, "vote_count": 0, "genres": ["Family"], "poster_path": null, "poster_url": null, "backdrop_path": null, "backdrop_url": null, "imdb_id": "tt0174029", "runtime": 17, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14004&cityId=1"]}, {"film_id": "3893", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3893&cityId=1", "title": "Originaltitel: Ochazuke no aji", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 7/2 kl. 16:00", "normalized_datetime": "2025-02-07T16:00:00", "normalized_date": "07.02", "normalized_time": "16:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3893&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:26:09.771255", "tmdb": {"id": 55197, "title": "The Flavor of Green Tea Over Rice", "overview": "The arranged marriage between a capricious woman from Tokyo high society and a quiet and rustic man is tested by a marital crisis.", "release_date": "1952-10-01", "rating": 7.6, "vote_count": 97, "genres": ["Drama"], "poster_path": "/mCXg9AfQlcwCR7E7vJCI96n4nLv.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/mCXg9AfQlcwCR7E7vJCI96n4nLv.jpg", "backdrop_path": "/p5BLZ8KmcQFOaT51KnmDmRxrpnb.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/p5BLZ8KmcQFOaT51KnmDmRxrpnb.jpg", "imdb_id": "tt0044982", "runtime": 116, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3893&cityId=1"]}, {"film_id": "12562", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=12562&cityId=1", "title": "Originaltitel: Soshun", "director": "", "showtimes": [{"datetime": "", "display_text": "ons 11/2 kl. 18:00", "normalized_datetime": "2025-02-11T18:00:00", "normalized_date": "11.02", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=12562&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:26:28.464977", "tmdb": {"id": 957471, "title": "The Villain from Edo Kochiyama Soshun", "overview": "Kotiyama is a swindler and extortionist, the head of a whole gang of crooks, usually posing as a poor monk; once he really took vows, but he was kicked out of the monastery long ago. He is enterprising, smart and not too cruel, so his accomplices love him. Posing as an envoy from the abbot of the Kennei Temple, Kotiama plays a show in front of Lord Matsue with an income of 150,000 koku, and extorts money from him. The film is based on the famous play by Kawatake Mokuami.", "release_date": "1982-07-23", "rating": 0.0, "vote_count": 0, "genres": ["Drama"], "poster_path": "/kJgMywGZyeubt0n7HyQoXibCiOf.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/kJgMywGZyeubt0n7HyQoXibCiOf.jpg", "backdrop_path": "/1TI2RMGJdeYkdB4WAodTtpJUtqL.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/1TI2RMGJdeYkdB4WAodTtpJUtqL.jpg", "imdb_id": null, "runtime": 91, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=12562&cityId=1"]}, {"film_id": "14005", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14005&cityId=1", "title": "Originaltitel: Pervyy Paren", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 14/2 kl. 14:00", "normalized_datetime": "2025-02-14T14:00:00", "normalized_date": "14.02", "normalized_time": "14:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14005&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:26:37.444281", "tmdb": {"id": 1297647, "title": "The First Lad", "overview": "Young agronomist Viktor Nozhov makes an extraordinary decision - he leaves a successful state farm and becomes the chairman of a backward collective farm in his native village...", "release_date": "1986-01-01", "rating": 0.0, "vote_count": 0, "genres": ["Drama"], "poster_path": "/3af5eQZ5IjMYdvRX2G8biTpLXlq.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/3af5eQZ5IjMYdvRX2G8biTpLXlq.jpg", "backdrop_path": null, "backdrop_url": null, "imdb_id": "tt5674638", "runtime": 150, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14005&cityId=1"]}, {"film_id": "8077", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8077&cityId=1", "title": "Originaltitel: Ohayo", "director": "", "showtimes": [{"datetime": "", "display_text": "s√∂n 15/2 kl. 16:00", "normalized_datetime": "2025-02-15T16:00:00", "normalized_date": "15.02", "normalized_time": "16:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8077&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:26:48.790664", "tmdb": {"id": 353588, "title": "Ohayo Sapporo", "overview": "Hearing-impaired Mo-Re wants to meet Hiro in person, a Japanese guy she met on the Internet.", "release_date": "2013-01-03", "rating": 5.0, "vote_count": 1, "genres": ["Romance", "Drama"], "poster_path": "/pbNZi3RD93nUqepG8VpFfnFC7im.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/pbNZi3RD93nUqepG8VpFfnFC7im.jpg", "backdrop_path": "/whbKsirl2cB19uD2S9KFKK1gfHk.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/whbKsirl2cB19uD2S9KFKK1gfHk.jpg", "imdb_id": "", "runtime": 40, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8077&cityId=1"]}, {"film_id": "14006", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14006&cityId=1", "title": "Originaltitel: Ukrainskaya rapsodiya", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 21/2 kl. 14:00", "normalized_datetime": "2025-02-21T14:00:00", "normalized_date": "21.02", "normalized_time": "14:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14006&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:27:07.276975", "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=14006&cityId=1"]}, {"film_id": "4717", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=4717&cityId=1", "title": "Originaltitel: Sanma no aji", "director": "", "showtimes": [{"datetime": "", "display_text": "ons 25/2 kl. 18:00", "normalized_datetime": "2025-02-25T18:00:00", "normalized_date": "25.02", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=4717&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:27:27.955848", "tmdb": {"id": 50759, "title": "An Autumn Afternoon", "overview": "Shuhei Hirayama is a widower with a 24-year-old daughter. Gradually, he comes to realize that she should not be obliged to look after him for the rest of his life, so he arranges a marriage for her.", "release_date": "1962-11-18", "rating": 7.855, "vote_count": 311, "genres": ["Drama"], "poster_path": "/4RtWkqywkzxonlnGBwv4RpSw4Rb.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/4RtWkqywkzxonlnGBwv4RpSw4Rb.jpg", "backdrop_path": "/r9cWPx9W8ObmMIBdbBce9bUXZhq.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/r9cWPx9W8ObmMIBdbBce9bUXZhq.jpg", "imdb_id": "tt0056444", "runtime": 113, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=4717&cityId=1"]}, {"film_id": "3044", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3044&cityId=1", "title": "Originaltitel: Ambavi Suramis tsikhitsa", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 28/2 kl. 14:00", "normalized_datetime": "2025-02-28T14:00:00", "normalized_date": "28.02", "normalized_time": "14:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3044&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:27:36.935339", "tmdb": {"id": 103590, "title": "The Legend of Suram Fortress", "overview": "A film version of a well-known Georgian folk-tale. A young boy has to be immured into the walls of a fortress in order to stop it from crumbling to pieces.", "release_date": "1985-12-01", "rating": 6.769, "vote_count": 39, "genres": ["Drama", "Fantasy"], "poster_path": "/kbgvvcLwQyuH8QPVdite1vvEbCK.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/kbgvvcLwQyuH8QPVdite1vvEbCK.jpg", "backdrop_path": "/cQN81yk6v4StOZadSQXkedpeMDg.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/cQN81yk6v4StOZadSQXkedpeMDg.jpg", "imdb_id": "tt0087606", "runtime": 83, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3044&cityId=1"]}, {"film_id": "12561", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=12561&cityId=1", "title": "Originaltitel: Bakushu", "director": "", "showtimes": [{"datetime": "", "display_text": "ons 4/3 kl. 18:00", "normalized_datetime": "2025-03-04T18:00:00", "normalized_date": "04.03", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=12561&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:27:57.850370", "tmdb": {"id": 50247, "title": "Early Summer", "overview": "A 28-year-old single woman is pressured to marry.", "release_date": "1951-10-03", "rating": 7.848, "vote_count": 200, "genres": ["Drama"], "poster_path": "/qVJsIMOYT7pNEldMttuATep6mtB.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/qVJsIMOYT7pNEldMttuATep6mtB.jpg", "backdrop_path": "/2U4bERBTIEVXLFfEJBV7KxCLNg1.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/2U4bERBTIEVXLFfEJBV7KxCLNg1.jpg", "imdb_id": "tt0043313", "runtime": 125, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=12561&cityId=1"]}, {"film_id": "13991", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13991&cityId=1", "title": "Originaltitel: From Liberation to Trans Militancy - Documents from Queer Struggles in Sweden", "director": "", "showtimes": [{"datetime": "", "display_text": "m√•n 9/3 kl. 18:00", "normalized_datetime": "2025-03-09T18:00:00", "normalized_date": "09.03", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Mauritz"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13991&cityId=1"}], "cinemas": ["Filmhuset - Bio Mauritz"], "scraped_at": "2025-12-28T06:28:21.364134", "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13991&cityId=1"]}, {"film_id": "8068", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8068&cityId=1", "title": "Originaltitel: Salam Cinema", "director": "", "showtimes": [{"datetime": "", "display_text": "tis 10/3 kl. 18:00", "normalized_datetime": "2025-03-10T18:00:00", "normalized_date": "10.03", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8068&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:28:25.695525", "tmdb": {"id": 43981, "title": "Salaam Cinema", "overview": "Makhmalbaf puts an advertisement in the papers calling for an open casting for his next movie. However when hundreds of people show up, he decides to make a movie about the casting and the screen tests of the would-be actors.", "release_date": "1995-04-14", "rating": 6.537, "vote_count": 41, "genres": ["Documentary", "Drama", "Comedy"], "poster_path": "/sMomuldengOiGtSJonjqcRmzrTF.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/sMomuldengOiGtSJonjqcRmzrTF.jpg", "backdrop_path": "/s6kv8ULRwnLMINd0srRPu2eefwx.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/s6kv8ULRwnLMINd0srRPu2eefwx.jpg", "imdb_id": "tt0114329", "runtime": 75, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8068&cityId=1"]}, {"film_id": "11866", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=11866&cityId=1", "title": "Originaltitel: Ashug-Karibi", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 14/3 kl. 14:00", "normalized_datetime": "2025-03-14T14:00:00", "normalized_date": "14.03", "normalized_time": "14:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=11866&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:28:37.122260", "tmdb": {"id": 92663, "title": "Ashik Kerib", "overview": "Wandering minstrel Ashik Kerib falls in love with a rich merchant's daughter, but is spurned by her father and forced to roam the world for a thousand and one nights. Now presumed dead by those he loves, he performs for the poor and unfortunate on his journeys through the wilderness. Parajanov's visually ravishing 'tableaux vivants' tell Lermontov's romantic tale while Turkish and Azerbaijani folk songs transport us into its mystical landscapes.", "release_date": "1988-07-03", "rating": 6.2, "vote_count": 48, "genres": ["Drama", "History", "Fantasy"], "poster_path": "/vFoYm30mSgE6eLJxfmQCsoQMpSQ.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/vFoYm30mSgE6eLJxfmQCsoQMpSQ.jpg", "backdrop_path": "/rCvNZWomA7ySCPsvN7xn4375Gkc.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/rCvNZWomA7ySCPsvN7xn4375Gkc.jpg", "imdb_id": "tt0094681", "runtime": 76, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=11866&cityId=1"]}, {"film_id": "8091", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8091&cityId=1", "title": "Originaltitel: Higambana", "director": "", "showtimes": [{"datetime": "", "display_text": "ons 18/3 kl. 18:00", "normalized_datetime": "2025-03-18T18:00:00", "normalized_date": "18.03", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8091&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:28:53.118548", "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8091&cityId=1"]}, {"film_id": "2794", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=2794&cityId=1", "title": "Originaltitel: Kaze no naka no mendori", "director": "", "showtimes": [{"datetime": "", "display_text": "ons 25/3 kl. 18:00", "normalized_datetime": "2025-03-25T18:00:00", "normalized_date": "25.03", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=2794&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:29:18.843762", "tmdb": {"id": 126219, "title": "A Hen in the Wind", "overview": "Tokiko is a mother patiently waiting for her husband's return from the war when her 4-year old son becomes ill. She takes him to the doctor for treatment but has no way of paying. She resorts to prostitution. One month later her husband returns from WWII to find his desperate wife, who tells him the truth. Together they must deal with the consequences.", "release_date": "1948-09-17", "rating": 7.074, "vote_count": 54, "genres": ["Drama"], "poster_path": "/mvoiw4BjoN0npqXkgJGLZs3k7VM.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/mvoiw4BjoN0npqXkgJGLZs3k7VM.jpg", "backdrop_path": "/pfkMco3YE9557cBaEzoGXRWYwyL.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/pfkMco3YE9557cBaEzoGXRWYwyL.jpg", "imdb_id": "tt0040505", "runtime": 84, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=2794&cityId=1"]}, {"film_id": "10356", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=10356&cityId=1", "title": "Originaltitel: Les enfants terribles", "director": "", "showtimes": [{"datetime": "", "display_text": "tor 9/4 kl. 18:00", "normalized_datetime": "2025-04-09T18:00:00", "normalized_date": "09.04", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=10356&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:30:17.160273", "tmdb": {"id": 15390, "title": "The Strange Ones", "overview": "Elisabeth and her brother Paul live isolated from much of the world after Paul is injured in a snowball fight. As a coping mechanism, the two conjure up a hermetic dream of their own making. Their relationship, however, isn't exactly wholesome. Jealousy and a malevolent undercurrent intrude on their fantasy when Elisabeth invites the strange Agathe to stay with them -- and Paul is immediately attracted to her.", "release_date": "1950-03-29", "rating": 6.602, "vote_count": 118, "genres": ["Drama"], "poster_path": "/yxcc8CfOn6M2HSGbjaDkAKb0QNQ.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/yxcc8CfOn6M2HSGbjaDkAKb0QNQ.jpg", "backdrop_path": "/vBYjLO02lrK6P6ns4lpZJrginET.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/vBYjLO02lrK6P6ns4lpZJrginET.jpg", "imdb_id": "tt0042436", "runtime": 107, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=10356&cityId=1"]}, {"film_id": "645", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=645&cityId=1", "title": "Originaltitel: Bob le flambeur", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 11/4 kl. 18:00", "normalized_datetime": "2025-04-11T18:00:00", "normalized_date": "11.04", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=645&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:30:28.827983", "tmdb": {"id": 26030, "title": "Bob le Flambeur", "overview": "In Paris, Bob Montagne is practically synonymous with gambling -- and winning. He is kind, classy and well-liked by virtually everyone in town, including police inspector Ledru. However, when Bob's luck turns sour, he begins to lose friends and makes the most desperate gamble of his life: to rob the Deauville casino during Grand Prix weekend, when the vaults are full. Unfortunately, Bob soon learns that the game is rigged and the cops are on to him.", "release_date": "1956-08-24", "rating": 7.258, "vote_count": 287, "genres": ["Drama", "Action", "Crime"], "poster_path": "/3CIfIDtD1I1rYY3ooaya8iZHlD8.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/3CIfIDtD1I1rYY3ooaya8iZHlD8.jpg", "backdrop_path": "/jzdDhoDmoE0Mj4ABwQMJeg4AiHs.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/jzdDhoDmoE0Mj4ABwQMJeg4AiHs.jpg", "imdb_id": "tt0047892", "runtime": 103, "budget": 0, "revenue": 41010}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=645&cityId=1"]}, {"film_id": "292", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=292&cityId=1", "title": "Originaltitel: L'Arm√©e des ombres", "director": "", "showtimes": [{"datetime": "", "display_text": "tor 16/4 kl. 18:00", "normalized_datetime": "2025-04-16T18:00:00", "normalized_date": "16.04", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=292&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:30:47.541778", "tmdb": {"id": 15383, "title": "Army of Shadows", "overview": "Betrayed by an informant, Philippe Gerbier finds himself trapped in a torturous Nazi prison camp. Though Gerbier escapes to rejoin the Resistance in occupied Marseilles, France, and exacts his revenge on the informant, he must continue a quiet, seemingly endless battle against the Nazis in an atmosphere of tension, paranoia and distrust.", "release_date": "1969-09-10", "rating": 7.902, "vote_count": 712, "genres": ["War", "Drama", "Thriller"], "poster_path": "/aqNZWM9bspt8zaDvVRIRiWxRVJ7.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/aqNZWM9bspt8zaDvVRIRiWxRVJ7.jpg", "backdrop_path": "/csCSd8gftDRax0tiuo4VZJ9UaOo.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/csCSd8gftDRax0tiuo4VZJ9UaOo.jpg", "imdb_id": "tt0064040", "runtime": 145, "budget": 0, "revenue": 906133}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=292&cityId=1"]}, {"film_id": "13988", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13988&cityId=1", "title": "Originaltitel: Deux hommes dans Manhattan", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 18/4 kl. 18:00", "normalized_datetime": "2025-04-18T18:00:00", "normalized_date": "18.04", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13988&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:30:58.979944", "tmdb": {"id": 27061, "title": "Two Men in Manhattan", "overview": "Two French journalists become embroiled in a criminal plot in New York City involving a disappeared United Nations diplomat.", "release_date": "1959-10-16", "rating": 6.3, "vote_count": 68, "genres": ["Crime", "Drama", "Thriller"], "poster_path": "/oiLXcwYmKIMDBtDw3vNRK1LzDy6.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/oiLXcwYmKIMDBtDw3vNRK1LzDy6.jpg", "backdrop_path": "/6tzyYR5a88KhHqebXKs0GRyXdwG.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/6tzyYR5a88KhHqebXKs0GRyXdwG.jpg", "imdb_id": "tt0052733", "runtime": 84, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13988&cityId=1"]}, {"film_id": "1367", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=1367&cityId=1", "title": "Originaltitel: Le doulos", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 25/4 kl. 18:30", "normalized_datetime": "2025-04-25T18:30:00", "normalized_date": "25.04", "normalized_time": "18:30", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=1367&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:31:26.971321", "tmdb": {"id": 20778, "title": "Le Doulos", "overview": "Enigmatic gangster Silien may or may not be responsible for informing on Faugel,  who was just released from prison and is already involved in what should be a simple heist. By the end of this brutal, twisting, and multilayered policier, who will be left to trust?", "release_date": "1962-12-13", "rating": 7.364, "vote_count": 294, "genres": ["Drama", "Thriller", "Crime"], "poster_path": "/nZ3mks1KnoQ4bIZ8fnv57Cd2T36.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/nZ3mks1KnoQ4bIZ8fnv57Cd2T36.jpg", "backdrop_path": "/zuGRz4iaWPi5VTb6bQW7j4G0OP.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/zuGRz4iaWPi5VTb6bQW7j4G0OP.jpg", "imdb_id": "tt0054821", "runtime": 108, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=1367&cityId=1"]}, {"film_id": "3058", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3058&cityId=1", "title": "Originaltitel: L√©on Morin, pr√™tre", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 9/5 kl. 19:00", "normalized_datetime": "2025-05-09T19:00:00", "normalized_date": "09.05", "normalized_time": "19:00", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3058&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:32:19.664781", "tmdb": {"id": 63892, "title": "L√©on Morin, Priest", "overview": "Barny, although a Marxist, is intrigued by the mysteries of religion. In confession, she teases a priest, L√©on Morin, but he is a young and intelligent man and ready to discuss anything.", "release_date": "1961-09-22", "rating": 7.023, "vote_count": 156, "genres": ["Drama", "Romance"], "poster_path": "/i89R891gei0UVS8xY6ymOUPExtW.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/i89R891gei0UVS8xY6ymOUPExtW.jpg", "backdrop_path": "/6UKBuvq6mHrZAhf2Rf54Dzt0Tmf.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/6UKBuvq6mHrZAhf2Rf54Dzt0Tmf.jpg", "imdb_id": "tt0055082", "runtime": 118, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=3058&cityId=1"]}, {"film_id": "13987", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13987&cityId=1", "title": "Originaltitel: Le Silence de la mer", "director": "", "showtimes": [{"datetime": "", "display_text": "tor 14/5 kl. 18:00", "normalized_datetime": "2025-05-14T18:00:00", "normalized_date": "14.05", "normalized_time": "18:00", "source_cinema": "Cinemateket", "source_cinemas": ["Bio Skandia"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13987&cityId=1"}], "cinemas": ["Bio Skandia"], "scraped_at": "2025-12-28T06:32:38.201018", "tmdb": {"id": 336748, "title": "Silence of the Sea", "overview": "In a small town in the West of France, during the German Occupation, a room is requisitioned by a Wehrmacht captain, Werner von Ebrennac. The house where he now stays is inhabited by young Jeanne, who makes a living by giving piano lessons, and by her grandfather. Quite upset, the two \"hosts\" decide to resist the occupier by never speaking a word to him. Now Werner is a lover of France and its culture, and he tries to persuade them that a rapprochement between Germany and France would be beneficial for the two nations. Quite unexpectedly Jeanne, little by little, falls in love with Werner. At the same time, the Francophile officer loses his illusions, realizing at last that what Nazi Germany actually wants is to thrall France and to stifle its culture...", "release_date": "2004-09-18", "rating": 7.4, "vote_count": 35, "genres": ["Romance", "Drama", "War", "TV Movie"], "poster_path": "/9h6lKitROXrUQ7SWLL5cVPgCOkY.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/9h6lKitROXrUQ7SWLL5cVPgCOkY.jpg", "backdrop_path": "/psIBvpXpMEvEP9O8VpZyKnxAiop.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/psIBvpXpMEvEP9O8VpZyKnxAiop.jpg", "imdb_id": "tt0430594", "runtime": 100, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=13987&cityId=1"]}, {"film_id": "8310", "url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8310&cityId=1", "title": "Originaltitel: Quand tu liras cette lettre...", "director": "", "showtimes": [{"datetime": "", "display_text": "l√∂r 16/5 kl. 18:30", "normalized_datetime": "2025-05-16T18:30:00", "normalized_date": "16.05", "normalized_time": "18:30", "source_cinema": "Cinemateket", "source_cinemas": ["Filmhuset - Bio Victor"], "source_url": "https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8310&cityId=1"}], "cinemas": ["Filmhuset - Bio Victor"], "scraped_at": "2025-12-28T06:32:49.797213", "tmdb": {"id": 78708, "title": "When You Read This Letter", "overview": "After a novice nun learns of the sudden death of her parents, she leaves the convent to manage the family business and look after her teenage sister. Both of them fall prey to a womanizing mechanic with psychopathic tendencies.", "release_date": "1953-07-26", "rating": 5.7, "vote_count": 21, "genres": ["Drama"], "poster_path": "/b6vGF24Ozi6RArW7JFWLQC4uLCI.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/b6vGF24Ozi6RArW7JFWLQC4uLCI.jpg", "backdrop_path": "/yDOWFq3o9qEXU33mxr3QNyb6dHE.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/yDOWFq3o9qEXU33mxr3QNyb6dHE.jpg", "imdb_id": "tt0045981", "runtime": 107, "budget": 0, "revenue": 0}, "data_source": "Cinemateket", "source_file": "data/cinemateket_films_with_english_subs.json", "data_sources": ["Cinemateket"], "urls": ["https://www.filminstitutet.se/sv/se-och-samtala-om-film/cinemateket-stockholm/filmer/?filmId=8310&cityId=1"]}, {"film_id": "gimme-danger---filmen-om-the-stooges", "url": "https://www.biorio.se/movies/gimme-danger---filmen-om-the-stooges", "title": "Gimme Danger - filmen om the Stooges", "director": "Jim Jarmusch", "showtimes": [{"datetime": "2026-02-25T17:00:00.000Z", "display_text": "Wednesday February 25, 2026 at 17:00", "movie_id": "5761", "cinema_id": "10", "booking_url": "https://biorio.se/showtime/1499", "api_data": {"id": 1499, "movieId": 5761, "movieVersionId": 446, "startTime": "2026-02-25T17:00:00.000Z", "endTime": "2026-02-25T18:48:00.000Z", "screenId": 1, "screenNumber": 1, "language": null, "subtitles": null, "membersOnly": false, "screeningLive": true, "isArchived": false, "onlineAvailableFrom": null, "includeInReport": true, "movie": {"id": 5761, "title": "Gimme Danger - filmen om the Stooges", "posterurl": "https://rio.ams3.digitaloceanspaces.com/movies/movies/5761/posters/1766479761576-hswl4f.avif", "movieVersions": [{"duration": 108, "audio": "Engelska", "subtitles": "Engelska"}], "subtitles": "Engelska", "audio": "Engelska"}, "MovieVersion": {"id": 446, "duration": 108, "subtitles": "Engelska", "audio": "Engelska"}, "screen": {"capacity": 180}, "TicketTypes": [{"id": 1, "name": "Ordinarie"}], "tags": ["reRUN"], "ticketsSold": 2, "ticketsAvailable": 178, "isPublished": true}, "normalized_datetime": "2026-02-25T17:00:00", "normalized_date": "25.02.2026", "normalized_time": "17:00", "source_cinema": "Bio Rio", "source_cinemas": ["Bio Rio Stockholm"], "source_url": "https://www.biorio.se/movies/gimme-danger---filmen-om-the-stooges"}], "cinemas": ["Bio Rio Stockholm"], "scraped_at": "2025-12-30T06:24:12.532272", "source": "biorio", "tmdb": {"id": 392820, "title": "Gimme Danger", "overview": "No other band in rock'n'roll history has rivaled The Stooges' combination of heavy primal throb, spiked psychedelia, blues-a-billy grind, complete with succinct angst-ridden lyrics, and a snarling, preening leopard of a frontman who somehow embodies Nijinsky, Bruce Lee, Harpo Marx, and Arthur Rimbaud all rolled into one. There is no precedent for The Stooges, while those inspired by them are now legion.  The film will present the context of their emergence musically, culturally, politically, historically, and relate their adventures and misadventures while charting their inspirations and the reasons behind their initial commercial challenges, as well as their long-lasting legacy.", "release_date": "2016-08-05", "rating": 6.813, "vote_count": 136, "genres": ["Documentary", "Music"], "poster_path": "/8YHqUETRBIFza756s8kcuU8XhEQ.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/8YHqUETRBIFza756s8kcuU8XhEQ.jpg", "backdrop_path": "/9gqyoUyBzpGCY7kLQ2VbGgo1mkT.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/9gqyoUyBzpGCY7kLQ2VbGgo1mkT.jpg", "imdb_id": "tt1714917", "runtime": 108, "budget": 0, "revenue": 950040}, "data_source": "Bio Rio", "source_file": "data/biorio_films_with_english_subs.json", "data_sources": ["Bio Rio"], "urls": ["https://www.biorio.se/movies/gimme-danger---filmen-om-the-stooges"]}, {"film_id": "am√©lie-fr√•n-montmartre", "url": "https://biofagelbla.se/program/", "title": "Am√©lie fr√•n Montmartre", "director": "Jean-Pierre Jeunet", "duration": "2h 3 mins", "language": "Franska", "showtimes": [{"datetime": "2026-01-04T10:30:00+01:00", "display_text": "S√∂ndag, 4th Januari 10:30", "time": "10:30", "date_section": "S√∂ndag, 4th Januari", "ticket_url": "https://biofagelbla.se/movie/amelie/?showtime=52631", "showtime_id": "52631", "normalized_datetime": "2026-01-04T10:30:00", "normalized_date": "04.01.2026", "normalized_time": "10:30", "source_cinema": "Bio F√•gel Bl√•", "source_cinemas": ["Bio F√•gel Bl√• Stockholm"], "source_url": "https://biofagelbla.se/program/"}], "cinemas": ["Bio F√•gel Bl√• Stockholm"], "scraped_at": "2025-12-30T06:26:04.439162+00:00", "source": "fagelbla", "tmdb": {"id": 194, "title": "Am√©lie", "overview": "At a tiny Parisian caf√©, the adorable yet painfully shy Am√©lie accidentally discovers a gift for helping others. Soon Amelie is spending her days as a matchmaker, guardian angel, and all-around do-gooder. But when she bumps into a handsome stranger, will she find the courage to become the star of her very own love story?", "release_date": "2001-04-25", "rating": 7.914, "vote_count": 12079, "genres": ["Comedy", "Romance"], "poster_path": "/vZ9NhNbQQ3yhtiC5sbhpy5KTXns.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/vZ9NhNbQQ3yhtiC5sbhpy5KTXns.jpg", "backdrop_path": "/6n53UI4mX9QMfe2S0Pgt8mGebY1.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/6n53UI4mX9QMfe2S0Pgt8mGebY1.jpg", "imdb_id": "tt0211915", "runtime": 122, "budget": 10000000, "revenue": 173921954}, "data_source": "Bio F√•gel Bl√•", "source_file": "data/fagelbla_films_with_english_subs.json", "data_sources": ["Bio F√•gel Bl√•"], "urls": ["https://biofagelbla.se/program/"]}, {"film_id": "breakfast-at-tiffanys", "url": "https://biofagelbla.se/program/", "title": "Breakfast at Tiffany‚Äôs", "director": "Blake Edwards", "duration": "1h 55 mins", "language": "Engelska", "showtimes": [{"datetime": "2026-01-17T10:30:00+01:00", "display_text": "L√∂rdag, 17th Januari 10:30", "time": "10:30", "date_section": "L√∂rdag, 17th Januari", "ticket_url": "https://biofagelbla.se/movie/breakfast-at-tiffanys/?showtime=51894", "showtime_id": "51894", "normalized_datetime": "2026-01-17T10:30:00", "normalized_date": "17.01.2026", "normalized_time": "10:30", "source_cinema": "Bio F√•gel Bl√•", "source_cinemas": ["Bio F√•gel Bl√• Stockholm"], "source_url": "https://biofagelbla.se/program/"}], "cinemas": ["Bio F√•gel Bl√• Stockholm"], "scraped_at": "2025-12-30T06:26:04.439518+00:00", "source": "fagelbla", "tmdb": {"id": 164, "title": "Breakfast at Tiffany's", "overview": "Holly Golightly is an eccentric New York City playgirl determined to marry a Brazilian millionaire. But when young writer Paul Varjak moves into her apartment building, her past threatens to get in their way.", "release_date": "1961-10-06", "rating": 7.629, "vote_count": 4384, "genres": ["Comedy", "Romance", "Drama"], "poster_path": "/79xm4gXw4l7A5D0XukUOJRocFYQ.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/79xm4gXw4l7A5D0XukUOJRocFYQ.jpg", "backdrop_path": "/jXZ2tyJl44yKvh22I6ooQwU5rFM.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/jXZ2tyJl44yKvh22I6ooQwU5rFM.jpg", "imdb_id": "tt0054698", "runtime": 115, "budget": 2500000, "revenue": 9500000}, "data_source": "Bio F√•gel Bl√•", "source_file": "data/fagelbla_films_with_english_subs.json", "data_sources": ["Bio F√•gel Bl√•"], "urls": ["https://biofagelbla.se/program/"]}, {"film_id": "marie-antoinette", "url": "https://biofagelbla.se/program/", "title": "Marie Antoinette", "director": "Sofia Coppola", "duration": "2h 3 mins", "language": "Engelska", "showtimes": [{"datetime": "2026-01-24T10:30:00+01:00", "display_text": "L√∂rdag, 24th Januari 10:30", "time": "10:30", "date_section": "L√∂rdag, 24th Januari", "ticket_url": "https://biofagelbla.se/movie/marie-antoinette/?showtime=52635", "showtime_id": "52635", "normalized_datetime": "2026-01-24T10:30:00", "normalized_date": "24.01.2026", "normalized_time": "10:30", "source_cinema": "Bio F√•gel Bl√•", "source_cinemas": ["Bio F√•gel Bl√• Stockholm"], "source_url": "https://biofagelbla.se/program/"}], "cinemas": ["Bio F√•gel Bl√• Stockholm"], "scraped_at": "2025-12-30T06:26:04.439702+00:00", "source": "fagelbla", "tmdb": {"id": 1887, "title": "Marie Antoinette", "overview": "The retelling of France‚Äôs iconic but ill-fated queen, Marie Antoinette - from her betrothal and marriage to Louis XVI at fifteen to her reign as queen at nineteen and ultimately the fall of Versailles.", "release_date": "2006-05-24", "rating": 6.694, "vote_count": 2881, "genres": ["Drama", "History"], "poster_path": "/cybXGmv8Rjd5Os8Xml6YxMBQ0Zt.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/cybXGmv8Rjd5Os8Xml6YxMBQ0Zt.jpg", "backdrop_path": "/9hxBNoRjEDZGjyR1JpmmtxJWmVU.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/9hxBNoRjEDZGjyR1JpmmtxJWmVU.jpg", "imdb_id": "tt0422720", "runtime": 123, "budget": 40000000, "revenue": 60917189}, "data_source": "Bio F√•gel Bl√•", "source_file": "data/fagelbla_films_with_english_subs.json", "data_sources": ["Bio F√•gel Bl√•"], "urls": ["https://biofagelbla.se/program/"]}, {"film_id": "himmel-√∂ver-berlin", "url": "https://biofagelbla.se/program/", "title": "Himmel √∂ver Berlin", "director": "Wim Wenders", "duration": "2h 8 mins", "language": "Tyska", "showtimes": [{"datetime": "2026-01-25T10:30:00+01:00", "display_text": "S√∂ndag, 25th Januari 10:30", "time": "10:30", "date_section": "S√∂ndag, 25th Januari", "ticket_url": "https://biofagelbla.se/movie/wings-of-desire/?showtime=52636", "showtime_id": "52636", "normalized_datetime": "2026-01-25T10:30:00", "normalized_date": "25.01.2026", "normalized_time": "10:30", "source_cinema": "Bio F√•gel Bl√•", "source_cinemas": ["Bio F√•gel Bl√• Stockholm"], "source_url": "https://biofagelbla.se/program/"}], "cinemas": ["Bio F√•gel Bl√• Stockholm"], "scraped_at": "2025-12-30T06:26:04.439832+00:00", "source": "fagelbla", "tmdb": {"id": 144, "title": "Wings of Desire", "overview": "Two angels glide through the streets of Berlin, observing the bustling population, providing invisible rays of hope to the distressed, but never interacting with them. When one falls in love with lonely trapeze artist, the angel longs to experience life in the physical world and finds that it might be possible for him to take human form.", "release_date": "1987-09-23", "rating": 7.772, "vote_count": 1447, "genres": ["Drama", "Fantasy", "Romance"], "poster_path": "/iZQs2vUeCzvS1KfZJ6uYNCGJBBV.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/iZQs2vUeCzvS1KfZJ6uYNCGJBBV.jpg", "backdrop_path": "/7TlGXrB4WQ3wbpOCUQnBXseCuOl.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/7TlGXrB4WQ3wbpOCUQnBXseCuOl.jpg", "imdb_id": "tt0093191", "runtime": 128, "budget": 2500000, "revenue": 3210139}, "data_source": "Bio F√•gel Bl√•", "source_file": "data/fagelbla_films_with_english_subs.json", "data_sources": ["Bio F√•gel Bl√•"], "urls": ["https://biofagelbla.se/program/"]}, {"film_id": "groundhog-day", "url": "https://biofagelbla.se/program/", "title": "Groundhog Day", "director": "Harold Ramis", "duration": "1h 41 mins", "language": "Engelska", "showtimes": [{"datetime": "2026-02-01T10:30:00+01:00", "display_text": "S√∂ndag, 1st Februari 10:30", "time": "10:30", "date_section": "S√∂ndag, 1st Februari", "ticket_url": "https://biofagelbla.se/movie/groundhog-day/?showtime=52638", "showtime_id": "52638", "normalized_datetime": "2026-02-01T10:30:00", "normalized_date": "01.02.2026", "normalized_time": "10:30", "source_cinema": "Bio F√•gel Bl√•", "source_cinemas": ["Bio F√•gel Bl√• Stockholm"], "source_url": "https://biofagelbla.se/program/"}], "cinemas": ["Bio F√•gel Bl√• Stockholm"], "scraped_at": "2025-12-30T06:26:04.439950+00:00", "source": "fagelbla", "tmdb": {"id": 137, "title": "Groundhog Day", "overview": "A narcissistic TV weatherman, along with his attractive-but-distant producer, and his mawkish cameraman, is sent to report on Groundhog Day in the small town of Punxsutawney, where he finds himself repeating the same day over and over.", "release_date": "1993-02-11", "rating": 7.621, "vote_count": 8568, "genres": ["Romance", "Fantasy", "Drama", "Comedy"], "poster_path": "/gCgt1WARPZaXnq523ySQEUKinCs.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/gCgt1WARPZaXnq523ySQEUKinCs.jpg", "backdrop_path": "/ttBydD0SynC0TMkW3AcnmsySkLp.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/ttBydD0SynC0TMkW3AcnmsySkLp.jpg", "imdb_id": "tt0107048", "runtime": 101, "budget": 14600000, "revenue": 71108778}, "data_source": "Bio F√•gel Bl√•", "source_file": "data/fagelbla_films_with_english_subs.json", "data_sources": ["Bio F√•gel Bl√•"], "urls": ["https://biofagelbla.se/program/"]}, {"film_id": "motst√•ndets-melankoli", "url": "https://zita.se/motstandets-melankoli", "title": "Motst√•ndets melankoli", "director": "", "genre": "Werckmeister harm√≥ni√°kUngern20001 jan 2000145 minDramaFr√•n 15 √•rFolkets Bio StockholmUngerskaEngelska", "duration": "", "showtimes": [{"datetime": "", "display_text": "17:00", "time": "17:00", "date": "", "cinema": "(Zita 2)", "source_url": "https://zita.se/motstandets-melankoli", "normalized_datetime": "2025-12-30T17:00:00", "normalized_date": "30.12", "normalized_time": "17:00", "source_cinema": "Zita Folkets Bio", "source_cinemas": ["Zita Folkets Bio Stockholm"]}], "cinemas": ["Zita Folkets Bio Stockholm"], "scraped_at": "2025-12-27T06:30:10.530357+00:00", "source": "zita", "data_source": "Zita Folkets Bio", "source_file": "data/zita_films_with_english_subs.json", "data_sources": ["Zita Folkets Bio"], "urls": ["https://zita.se/motstandets-melankoli"]}, {"film_id": "turinh√§sten", "url": "https://zita.se/turinhasten", "title": "Turinh√§sten", "director": "", "genre": "A torin√≥i l√≥Ungern, Frankrike20111 jan 2011148 minDramaFr√•n 15 √•rFolkets Bio StockholmUngerskaEngelska", "duration": "", "showtimes": [{"datetime": "", "display_text": "14:00", "time": "14:00", "date": "", "cinema": "(Zita 1)", "source_url": "https://zita.se/turinhasten", "normalized_datetime": "2025-12-30T14:00:00", "normalized_date": "30.12", "normalized_time": "14:00", "source_cinema": "Zita Folkets Bio", "source_cinemas": ["Zita Folkets Bio Stockholm"]}], "cinemas": ["Zita Folkets Bio Stockholm"], "scraped_at": "2025-12-27T06:30:25.073970+00:00", "source": "zita", "tmdb": {"id": 81401, "title": "The Turin Horse", "overview": "A monumental windstorm and an abused horse's refusal to work or eat signal the beginning of the end for a poor farmer and his daughter.", "release_date": "2011-03-31", "rating": 7.61, "vote_count": 394, "genres": ["Drama"], "poster_path": "/2kSElneXSKmMsGL55k0CbPGqLbu.jpg", "poster_url": "https://image.tmdb.org/t/p/w500/2kSElneXSKmMsGL55k0CbPGqLbu.jpg", "backdrop_path": "/eMgNa5dbU34qyF0KA9DMA4TrEzn.jpg", "backdrop_url": "https://image.tmdb.org/t/p/w1280/eMgNa5dbU34qyF0KA9DMA4TrEzn.jpg", "imdb_id": "tt1316540", "runtime": 155, "budget": 1000000, "revenue": 162088}, "data_source": "Zita Folkets Bio", "source_file": "data/zita_films_with_english_subs.json", "data_sources": ["Zita Folkets Bio"], "urls": ["https://zita.se/turinhasten"]}]</script>
    <script>
// Global variables
let allFilms = [];
let filteredFilms = [];
let cinemas = new Set();
let genres = new Set();

// Simplified DateTime parsing using normalized data
function parseDateTime(showtime) {
    // Use normalized_datetime if available (preferred)
    if (showtime.normalized_datetime) {
        try {
            return new Date(showtime.normalized_datetime);
        } catch (e) {
            console.warn('Could not parse normalized_datetime:', showtime.normalized_datetime, e);
        }
    }
    
    // Fallback to original datetime field with intelligent date parsing
    if (showtime.datetime) {
        try {
            // Parse various datetime formats
            let dateStr = showtime.datetime. trim();
            
            // Try to detect format:  DD.MM HH:MM or DD.MM. YYYY HH:MM
            const dateTimeRegex = /^(\d{1,2})\.(\d{1,2})(? :\.(\d{4}))?\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/;
            const match = dateStr.match(dateTimeRegex);
            
            if (match) {
                const day = parseInt(match[1], 10);
                const month = parseInt(match[2], 10);
                let year = match[3] ? parseInt(match[3], 10) : null;
                const hours = parseInt(match[4], 10);
                const minutes = parseInt(match[5], 10);
                
                // If no year provided, intelligently determine it
                if (!year) {
                    const now = new Date();
                    const currentYear = now.getFullYear();
                    const currentMonth = now.getMonth() + 1;
                    const currentDay = now.getDate();
                    
                    // If the month/day is in the past this year, use next year
                    if (month < currentMonth || (month === currentMonth && day < currentDay)) {
                        year = currentYear + 1;
                    } else {
                        year = currentYear;
                    }
                }
                
                return new Date(year, month - 1, day, hours, minutes, 0);
            }
            
            // Fallback to native Date parsing
            return new Date(dateStr);
        } catch (e) {
            console.warn('Could not parse datetime:', showtime. datetime, e);
        }
    }
    
    return null;
}

function getSortedShowtimes(showtimes) {
    if (!showtimes || !Array.isArray(showtimes)) return [];
    
    return [...showtimes].sort((a, b) => {
        const dateA = parseDateTime(a);
        const dateB = parseDateTime(b);
        
        // If either date couldn't be parsed, keep original order
        if (!dateA && !dateB) return 0;
        if (!dateA) return 1;
        if (!dateB) return -1;
        
        return dateA - dateB;
    });
}

function formatShowtime(showtime) {
    // Use normalized data if available (much simpler!)
    if (showtime.normalized_datetime && showtime.normalized_date && showtime.normalized_time) {
        const parsedDate = new Date(showtime.normalized_datetime);
        
        // Validate the normalized date
        if (!isNaN(parsedDate.getTime())) {
            return {
                display: showtime.normalized_time,
                date: showtime.normalized_date,
                time: showtime.normalized_time,
                fullDate: parsedDate
            };
        }
    }
    
    // Fallback to legacy parsing if normalized data is not available
    const parsedDate = parseDateTime(showtime);
    
    if (!parsedDate || isNaN(parsedDate.getTime())) {
        // Final fallback to original display
        return {
            display: showtime.display_text || showtime.datetime || 'TBA',
            date: '',
            time: '',
            fullDate: null
        };
    }
    
    const now = new Date();
    
    // Format time
    const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: false };
    const timeStr = parsedDate.toLocaleTimeString('en-GB', timeOptions);
    
    // Format date - always use numeric format
    const day = String(parsedDate.getDate()).padStart(2, '0');
    const month = String(parsedDate.getMonth() + 1).padStart(2, '0');
    let dateStr = `${day}.${month}`;
    
    // Add year if not current year
    if (parsedDate.getFullYear() !== now.getFullYear()) {
        dateStr += `.${parsedDate.getFullYear()}`;
    }
    
    return {
        display: timeStr,
        date: dateStr,
        time: timeStr,
        fullDate: parsedDate
    };
}

// Generate Google Calendar URL for a film showtime
function createGoogleCalendarUrl(film, showtime, formattedDateTime) {
    if (!formattedDateTime.fullDate) {
        return null;
    }
    
    const startDate = new Date(formattedDateTime.fullDate);
    
    // Check if the date is valid
    if (isNaN(startDate.getTime())) {
        console.warn('Invalid date for calendar URL:', formattedDateTime.fullDate);
        return null;
    }
    
    // Assume 2-hour duration for films (default)
    const endDate = new Date(startDate.getTime() + (2 * 60 * 60 * 1000));
    
    // Format dates for Google Calendar (YYYYMMDDTHHMMSSZ)
    const formatGoogleDate = (date) => {
        try {
            return date.toISOString().replace(/[-:.]/g, '').replace(/000Z$/, 'Z');
        } catch (error) {
            console.warn('Error formatting date for Google Calendar:', date, error);
            return null;
        }
    };
    
    const startDateFormatted = formatGoogleDate(startDate);
    const endDateFormatted = formatGoogleDate(endDate);
    
    // If date formatting failed, return null
    if (!startDateFormatted || !endDateFormatted) {
        return null;
    }
    
    // Don't use encodeURIComponent here since URLSearchParams will handle encoding
    const title = `üçø ${film.tmdb?.title || film.title}`;
    const cinemaName = cleanCinemaName(showtime.source_cinema || film.data_source || 'Stockholm Cinema');
    const details = [
        `Film: ${film.tmdb?.title || film.title}`,
        film.tmdb?.overview ? `Description: ${film.tmdb.overview}` : '',
        film.tmdb?.directors?.length > 0 ? `Director: ${film.tmdb.directors.join(', ')}` : '',
        film.tmdb?.genres?.length > 0 ? `Genres: ${film.tmdb.genres.join(', ')}` : '',
        film.tmdb?.rating ? `Rating: ‚≠ê ${film.tmdb.rating}/10` : '',
        '',
        `Cinema: ${cinemaName}`,
        `Ticket URL: ${getShowtimeUrl(film, showtime)}`
    ].filter(line => line.trim()).join('\n');
    
    const location = cinemaName;
    
    const baseUrl = 'https://calendar.google.com/calendar/render';
    const params = new URLSearchParams({
        action: 'TEMPLATE',
        text: title,
        dates: `${startDateFormatted}/${endDateFormatted}`,
        details: details,
        location: location
    });
    
    return `${baseUrl}?${params.toString()}`;
}

// Helper function to clean cinema names (remove "Bio" prefix)
function cleanCinemaName(cinemaName) {
    if (!cinemaName) return '';
    
    // Remove "Bio " prefix (case insensitive)
    return cinemaName.replace(/^Bio\s+/i, '').trim();
}

// Helper function to get the appropriate URL for a showtime
function getShowtimeUrl(film, showtime) {
    // Get the appropriate URL for this showtime's cinema
    let showtimeUrl = film.url; // default fallback
    const cinemaInfo = showtime.source_cinema || showtime.source_cinemas?.[0] || '';
    
    if (film.urls && film.data_sources && cinemaInfo) {
        const cinemaIndex = film.data_sources.findIndex(source => 
            source.toLowerCase().includes(cinemaInfo.toLowerCase()) ||
            cinemaInfo.toLowerCase().includes(source.toLowerCase())
        );
        if (cinemaIndex >= 0 && film.urls[cinemaIndex]) {
            showtimeUrl = film.urls[cinemaIndex];
        }
    } else if (showtime.source_url) {
        showtimeUrl = showtime.source_url;
    }
    
    return showtimeUrl;
}

// DOM elements
const filmsGrid = document.getElementById('films-grid');
const loading = document.getElementById('loading');
const noResults = document.getElementById('no-results');

const searchInput = document.getElementById('search-input');
const cinemaFilter = document.getElementById('cinema-filter');
const genreFilter = document.getElementById('genre-filter');
const totalFilmsEl = document.getElementById('total-films');
const totalCinemasEl = document.getElementById('total-cinemas');
const totalShowtimesEl = document.getElementById('total-showtimes');

// Initialize the app
// Initialize the app
document.addEventListener('DOMContentLoaded', () => {
    loadFilms();
});

// Configuration for data sources
const DATA_SOURCES = [
    {
        name: 'Cinemateket Stockholm',
        file: './cinemateket_films_with_english_subs.json',
        fallback: './films_with_english_subs.json'
    },
    {
        name: 'Bio Rio Stockholm',
        file: './biorio_films_with_english_subs.json',
        fallback: null
    },
    {
        name: 'Bio F√•gel Bl√• Stockholm',
        file: './fagelbla_films_with_english_subs.json',
        fallback: null
    },
    {
        name: 'Zita Folkets Bio Stockholm',
        file: './zita_films_with_english_subs.json',
        fallback: null
    }
];

// Load films from multiple JSON files
// Load films from embedded JSON data
async function loadFilms() {
    try {
        // Get embedded JSON data
        const filmsDataElement = document.getElementById('films-data');
        allFilms = JSON.parse(filmsDataElement.textContent);
        
        filteredFilms = [...allFilms];
        
        console.log(`üéâ Successfully loaded ${allFilms.length} films from embedded data`);
        
        // Extract unique cinemas and genres
        allFilms.forEach(film => {
            film.cinemas?.forEach(cinema => {
                if (typeof cinema === 'string') {
                    cinemas.add(cinema);
                } else if (cinema?.name) {
                    cinemas.add(cinema.name);
                }
            });
            film.tmdb?.genres?.forEach(genre => genres.add(genre));
        });
        
        loading.style.display = 'none';
        
        // Initialize display after loading data
        setupEventListeners();
        displayFilms(allFilms);
        updateStats();
        populateFilters();
    } catch (error) {
        console.error('Error loading films:', error);
        loading.innerHTML = `
            <i class="fas fa-exclamation-triangle"></i>
            <span>Error loading films. Please try again later.</span>
        `;
    }
}



// Setup event listeners for filters
function setupEventListeners() {
    searchInput.addEventListener('input', debounce(filterFilms, 300));
    cinemaFilter.addEventListener('change', filterFilms);
    genreFilter.addEventListener('change', filterFilms);
}

// Debounce function for search input
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Filter films based on search and criteria
function filterFilms() {
    const searchTerm = searchInput.value.toLowerCase();
    const selectedCinema = cinemaFilter.value;
    const selectedGenre = genreFilter.value;
    
    filteredFilms = allFilms.filter(film => {
        // Search filter
        const searchMatch = !searchTerm || 
            film.title?.toLowerCase().includes(searchTerm) ||
            film.tmdb?.title?.toLowerCase().includes(searchTerm) ||
            film.tmdb?.overview?.toLowerCase().includes(searchTerm) ||
            film.tmdb?.directors?.some(dir => dir.toLowerCase().includes(searchTerm)) ||
            film.tmdb?.genres?.some(genre => genre.toLowerCase().includes(searchTerm));
        
        // Cinema filter
        const cinemaMatch = !selectedCinema || 
            film.cinemas?.some(cinema => {
                if (typeof cinema === 'string') {
                    return cinema === selectedCinema;
                } else if (cinema?.name) {
                    return cinema.name === selectedCinema;
                }
                return false;
            });
        
        // Genre filter
        const genreMatch = !selectedGenre || 
            film.tmdb?.genres?.includes(selectedGenre);
        
        return searchMatch && cinemaMatch && genreMatch;
    });
    
    displayFilms(filteredFilms);
}

// Get the earliest showtime date for a film
function getEarliestShowtime(film) {
    if (!film.showtimes || film.showtimes.length === 0) {
        return new Date('2099-12-31'); // Far future date for films without showtimes
    }
    
    const sortedShowtimes = getSortedShowtimes(film.showtimes);
    const earliestShowtime = sortedShowtimes[0];
    const parsedDate = parseDateTime(earliestShowtime);
    
    return parsedDate || new Date('2099-12-31');
}

// Display films in the grid
function displayFilms(films) {
    if (films.length === 0) {
        filmsGrid.style.display = 'none';
        noResults.style.display = 'block';
        return;
    }
    
    filmsGrid.style.display = 'grid';
    noResults.style.display = 'none';
    
    // Sort films by their earliest showtime
    const sortedFilms = [...films].sort((a, b) => {
        const dateA = getEarliestShowtime(a);
        const dateB = getEarliestShowtime(b);
        return dateA - dateB;
    });
    
    filmsGrid.innerHTML = sortedFilms.map(film => createFilmCard(film)).join('');
}

// Create HTML for a film card
function createFilmCard(film) {
    const tmdb = film.tmdb || {};
    const fullTitle = tmdb.title || film.title || 'Untitled';
    const title = fullTitle.length > 20 ? fullTitle.substring(0, 20) + '...' : fullTitle;
    const overview = tmdb.overview || extractOverviewFromDetails(film.original_details) || 'No description available.';
    const rating = tmdb.rating ? tmdb.rating.toFixed(1) : null;
            const genres = tmdb.genres?.slice(0, 2) || [];
    const year = tmdb.release_date ? new Date(tmdb.release_date).getFullYear() : '';
    const runtime = tmdb.runtime ? `${tmdb.runtime} min` : '';
    const posterUrl = tmdb.poster_url || '';
    const directors = tmdb.directors?.slice(0, 2) || [];
    
    return `
        <div class="film-card">
            <div class="film-poster">
                ${posterUrl ? 
                    `<img src="${posterUrl}" alt="${title}" loading="lazy">` : 
                    `<div class="placeholder"><i class="fas fa-film"></i></div>`
                }
                ${rating ? `
                    <div class="film-rating">
                        <span class="star">‚òÖ</span>
                        <span>${rating}</span>
                    </div>
                ` : ''}
            </div>
            <div class="film-content">
                <h3 class="film-title">${title}</h3>
                <p class="film-overview">${overview}</p>
                
                <div class="film-meta">
                    ${year ? `<span class="meta-item year">${year}</span>` : ''}
                    ${genres.map(genre => `<span class="meta-item genre">${genre}</span>`).join('')}
                    ${directors.length > 0 ? `<span class="meta-item">üìΩÔ∏è ${directors.join(', ')}</span>` : ''}
                    ${film.data_sources && film.data_sources.length > 1 ? 
                        film.data_sources.map(source => `<span class="meta-item source multi-cinema"> ${source}</span>`).join('') :
                        film.data_source ? `<span class="meta-item source"> ${film.data_source}</span>` : ''
                    }
                </div>
                
                ${film.showtimes?.length > 0 ? `
                    <div class="film-showtimes">
                        <div class="showtimes-title">
                            <i class="fas fa-clock"></i>
                            Showtimes
                        </div>
                        ${getSortedShowtimes(film.showtimes).slice(0, 5).map(showtime => {
                        const formattedDateTime = formatShowtime(showtime);
                        const rawCinemaInfo = showtime.source_cinema || showtime.source_cinemas?.[0] || '';
                        const cleanedCinemaInfo = cleanCinemaName(rawCinemaInfo);
                        const showtimeUrl = getShowtimeUrl(film, showtime);
                        const calendarUrl = createGoogleCalendarUrl(film, showtime, formattedDateTime);
                        
                        return `
                        <div class="showtime-container">
                            <a href="${showtimeUrl}" target="_blank" class="showtime-link">
                                <div class="showtime ${film.data_sources && film.data_sources.length > 1 ? 'multi-cinema' : ''}">
                                    <div class="showtime-time">${formattedDateTime.date} ${formattedDateTime.display}${cleanedCinemaInfo ? ` <span class="cinema-name">${cleanedCinemaInfo}</span>` : ''}</div>
                                    <div class="showtime-arrow">‚Üí</div>
                                </div>
                            </a>
                            ${calendarUrl ? `
                                <a href="${calendarUrl}" target="_blank" class="calendar-button" title="Add to Google Calendar">
                                    <i class="fas fa-calendar-plus"></i>
                                </a>
                            ` : ''}
                        </div>`;
                    }).join('')}
                    ${film.showtimes.length > 5 ? `<div class="more-showtimes">+${film.showtimes.length - 5} more showtimes...</div>` : ''}
                    </div>
                ` : ''}
                

            </div>
        </div>
    `;
}

// Extract overview from original details (fallback)
function extractOverviewFromDetails(details) {
    if (!details) return '';
    
    // Remove HTML tags and extra whitespace
    const cleanText = details.replace(/<[^>]*>/g, '').replace(/\s+/g, ' ').trim();
    
    // Get first meaningful paragraph (minimum 50 characters)
    const sentences = cleanText.split('. ');
    let overview = '';
    for (const sentence of sentences) {
        overview += sentence + '. ';
        if (overview.length > 100) break;
    }
    
    return overview.trim().substring(0, 200) + (overview.length > 200 ? '...' : '');
}

// Update statistics
function updateStats() {
    totalFilmsEl.textContent = allFilms.length;
    totalCinemasEl.textContent = cinemas.size;
    
    const totalShowtimes = allFilms.reduce((total, film) => {
        return total + (film.showtimes?.length || 0);
    }, 0);
    totalShowtimesEl.textContent = totalShowtimes;
}

// Populate filter dropdowns
function populateFilters() {
    // Populate cinema filter
    const sortedCinemas = Array.from(cinemas).sort();
    sortedCinemas.forEach(cinema => {
        const option = document.createElement('option');
        option.value = cinema;
        option.textContent = cinema;
        cinemaFilter.appendChild(option);
    });
    
    // Populate genre filter
    const sortedGenres = Array.from(genres).sort();
    sortedGenres.forEach(genre => {
        const option = document.createElement('option');
        option.value = genre;
        option.textContent = genre;
        genreFilter.appendChild(option);
    });
}

// Smooth scroll to films section
function scrollToFilms() {
    document.getElementById('films').scrollIntoView({
        behavior: 'smooth'
    });
}

// Add click handlers for navigation
document.addEventListener('DOMContentLoaded', () => {
    const navLinks = document.querySelectorAll('.nav-links a');
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            if (link.getAttribute('href').startsWith('#')) {
                e.preventDefault();
                const targetId = link.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            }
        });
    });
});

// Add loading states for images
document.addEventListener('DOMContentLoaded', () => {
    // Add intersection observer for lazy loading optimization
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.dataset.src) {
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                        observer.unobserve(img);
                    }
                }
            });
        });

        // Observe all images with data-src
        document.querySelectorAll('img[data-src]').forEach(img => {
            imageObserver.observe(img);
        });
    }
});

</script>
</body>
</html>